<!DOCTYPE HTML>
<html>
    <head>
        <link rel="Stylesheet" type="text/css" href="../static/css/typo.css">
        <link rel="Stylesheet" type="text/css" href="../static/css/reset_typo.css">
        <link rel="Stylesheet" type="text/css" href="../static/css/tango.css">
        <link rel="Stylesheet" type="text/css" href="../static/css/style.css">
        <title>adb - Wiki.Solarex</title>
        <meta name="keywords" content="android,linux,python,mac"/>
        <meta name="description" content="Solarex's personal wiki,powered by simiki.Focus on Android, Python, Linux, Mac and so on."/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        
<script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.js"></script>
<script language="javascript" type="text/javascript">
    var oddClick = true;
    $(document).ready(function() {
      $('#toggle-button').click(function() {
        $('#container').animate({
          width: oddClick? "100%":"60%",
        });
        $(this).text(oddClick? "窄版":"宽版");
        oddClick = !oddClick;
      });
    });
</script>

    </head>

    <body>
        <a href="https://github.com/Solarex/wiki"><img style="position: fixed; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
        <div id="container">
            
    <div id="header">
        <div id="post-nav">
            <div id="toggle-button">宽版</div>
            
            <a href="https://solarex.github.io/wiki/">Home</a> » <a href="https://solarex.github.io/wiki/#android">android</a> » adb
            
        </div>
    </div>
    <div class="clearfix"></div>
    <h1><center>adb</center></h1>
    <hr>
    <div id="content">
        <h2 id="adb">adb</h2>
<ul>
<li>ADB是一个通用的命令行工具来供你和Android模拟器或者Android设备交互。ADB是Client/Server架构，包括3个部分。Client，运行在开发机上。可以在shell中运行adb命令来调用它。Server，运行在开发机后台，Server管理Client和运行在模拟器或者Android设备上的adb daemon的通信。Daemon，运行在Android模拟器或者Android设备上的后台程序。</li>
<li>When you start an adb client, the client first checks whether there is an adb server process already running. If there isn't, it starts the server process. When the server starts, it binds to local TCP port 5037 and listens for commands sent from adb clients—all adb clients use port 5037 to communicate with the adb server.启动一个adb client时，client首先检查是否有adb server在运行，如果没有就起adb server进程。server进程起来的时候会绑定到5037端口，监听所有从adb client发送过来的命令。The server then sets up connections to all running emulator/device instances. It locates emulator/device instances by scanning odd-numbered ports in the range 5555 to 5585, the range used by emulators/devices. Where the server finds an adb daemon, it sets up a connection to that port. Note that each emulator/device instance acquires a pair of sequential ports — an even-numbered port for console connections and an odd-numbered port for adb connections.adb server通过扫描5555到5585以内的奇数端口来定位Android模拟器和Android设备，然后和它们建立通信。如果adb server在端口中发现了adb daemon，他会建立和那个端口的连接。每个Android模拟器和Android设备需要一对连续的端口，一个偶数端口用来console connection，一个奇数端口用来adb connection。(server与client通信的端口是是5037,adb server会与emulator交互的，使用的端口有两个，一个是5554专门用于与Emulator实例的连接，那么数据可以从Emulator转发给IDE控制台了，另一个则是5555，专门与adb daemon连接为后面调试使用。http://www.cnblogs.com/carmanloneliness/archive/2013/04/16/3023299.html)</li>
<li><code>adb emu -s emulator-5554 kill</code></li>
</ul>
<h2 id="android-adb-tools-help">android adb tools help</h2>
<ul>
<li><code>adb devices</code></li>
<li><code>adb install test.apk</code></li>
<li><code>adb uninstall org.solarex.test</code></li>
<li><code>adb logcat [option] [filter-specs]</code> Prints log data to the screen.</li>
<li><code>adb bugreport</code> Prints <code>dumpsys</code>, <code>dumpstate</code>, and <code>logcat</code> data to the screen, for the purposes of bug reporting.</li>
<li><code>adb jdwp</code> Prints a list of available JDWP processes on a given device.You can use the forward <code>jdwp:&lt;pid&gt;</code> port-forwarding specification to connect to a specific JDWP process. For example:<code>adb forward tcp:8000 jdwp:472</code>,<code>jdb -attach localhost:8000</code></li>
<li><code>adb pull &lt;remote&gt; &lt;local&gt;</code>,<code>adb pull /data/system/packages.xml .</code></li>
<li><code>adb push &lt;local&gt; &lt;remote&gt;</code></li>
<li><code>adb forward &lt;local&gt; &lt;remote&gt;</code>Forwards socket connections from a specified local port to a specified remote port on the emulator/device instance.Port specifications can use these schemes:<code>tcp:&lt;portnum&gt;</code>,<code>local:&lt;UNIX domain socket name&gt;</code>,<code>dev:&lt;character device name&gt;</code>,<code>jdwp:&lt;pid&gt;</code>.转发本地端口通信到远程模拟器或者Android设备上的端口。</li>
<li><code>adb ppp &lt;tty&gt; [parm]…</code>Run PPP over USB.<code>&lt;tty&gt;</code> — the tty for PPP stream. For example <code>dev:/dev/omap_csmi_ttyl</code>.<code>[parm]…</code> — zero or more PPP/PPPD options, such as defaultroute, local, notty, etc.Note that you should not automatically start a PPP connection.</li>
<li><code>adb get-serialno</code></li>
<li><code>adb get-state</code></li>
<li><code>adb wait-for-device</code></li>
<li>adb shell,Adb provides a Unix shell that you can use to run a variety of commands on an emulator or connected device. The command binaries are stored in the file system of the emulator or device, at <code>/system/bin/</code>.</li>
<li><code>adb shell am start PACKAGE_NAME/ACTIVITY_IN_PACKAGE</code>,<code>adb shell am start -n com.meizu.voiceassistant/.MainActivity</code></li>
<li><code>adb shell screencap -p /sdcard/sc.png &amp;&amp; adb pull /sdcard/sc.png .</code>,<code>adb shell screencap -p | perl -pe 's/\x0D\x0A/\x0A/g' &gt; sc.png</code>,<a href="http://blog.shvetsov.com/2013/02/grab-android-screenshot-to-computer-via.html">ref</a></li>
<li><code>adb shell input keyevent 26</code>,sends the power button event to turn the device on or off</li>
<li><code>adb shell input keyevent 82</code>,sends the event that unlocks the lockscreen on the device,can be combine with the power button event to turn on the device and unlock the screen</li>
<li><code>adb shell pm list packages -f</code>,list all installed packages</li>
<li><code>adb shell pm clear PACKAGENAME</code>,clear application data,<code>adb shell pm clear com.meizu.voiceassistant</code></li>
<li><code>adb logcat -v threadtime -s TAG1 TAG2</code></li>
<li><code>adb logcat "*:PRIORITY"</code>,<code>adb logcat "*:W"</code>,<code>V,D,I,W,E,F,S</code>,verbose,debug,info,warning,error,fatal,silent</li>
<li><code>adb logcat -s TAG1:PRIORITY TAG2:PRIORITY</code></li>
<li><code>adb logcat -c</code></li>
<li><code>adb shell input keyevent 3</code>home</li>
<li><code>adb shell input keyevent 82</code>menu</li>
<li><code>adb shell input keyevent 19</code>up</li>
<li><code>adb shell input keyevent 20</code>down</li>
<li><code>adb shell input keyevent 21</code>left</li>
<li><code>adb shell input keyevent 22</code>right</li>
<li><code>adb shell input keyevent 66</code>enter</li>
<li><code>adb shell input keyevent 4</code>back</li>
<li><code>adb shell input keyevent</code>, either an <code>event_code</code> or a <code>string</code> will be sent to the device.</li>
<li><code>adb shell pm list permissions -g -d</code> 查看危险权限列表。正常权限指的是所有非危险（non-dangerous）权限，包括normal，system和signature 权限。正常权限风险较低，用于容许应用以最小风险来访问隔离的应用级别的特性。</li>
</ul>
<div class="hlcode"><pre>usage: input <span class="o">[</span>text|keyevent<span class="o">]</span>
  input text &lt;string&gt;
  input keyevent &lt;event_code&gt;
adb shell input text <span class="s1">&#39;this%sis%san%sexample&#39;</span> // %s means SPACE
0 --&gt;  <span class="s2">&quot;KEYCODE_UNKNOWN&quot;</span> 
1 --&gt;  <span class="s2">&quot;KEYCODE_MENU&quot;</span> 
2 --&gt;  <span class="s2">&quot;KEYCODE_SOFT_RIGHT&quot;</span> 
3 --&gt;  <span class="s2">&quot;KEYCODE_HOME&quot;</span> 
4 --&gt;  <span class="s2">&quot;KEYCODE_BACK&quot;</span> 
5 --&gt;  <span class="s2">&quot;KEYCODE_CALL&quot;</span> 
6 --&gt;  <span class="s2">&quot;KEYCODE_ENDCALL&quot;</span> 
7 --&gt;  <span class="s2">&quot;KEYCODE_0&quot;</span> 
8 --&gt;  <span class="s2">&quot;KEYCODE_1&quot;</span> 
9 --&gt;  <span class="s2">&quot;KEYCODE_2&quot;</span> 
10 --&gt;  <span class="s2">&quot;KEYCODE_3&quot;</span> 
11 --&gt;  <span class="s2">&quot;KEYCODE_4&quot;</span> 
12 --&gt;  <span class="s2">&quot;KEYCODE_5&quot;</span> 
13 --&gt;  <span class="s2">&quot;KEYCODE_6&quot;</span> 
14 --&gt;  <span class="s2">&quot;KEYCODE_7&quot;</span> 
15 --&gt;  <span class="s2">&quot;KEYCODE_8&quot;</span> 
16 --&gt;  <span class="s2">&quot;KEYCODE_9&quot;</span> 
17 --&gt;  <span class="s2">&quot;KEYCODE_STAR&quot;</span> 
18 --&gt;  <span class="s2">&quot;KEYCODE_POUND&quot;</span> 
19 --&gt;  <span class="s2">&quot;KEYCODE_DPAD_UP&quot;</span> 
20 --&gt;  <span class="s2">&quot;KEYCODE_DPAD_DOWN&quot;</span> 
21 --&gt;  <span class="s2">&quot;KEYCODE_DPAD_LEFT&quot;</span> 
22 --&gt;  <span class="s2">&quot;KEYCODE_DPAD_RIGHT&quot;</span> 
23 --&gt;  <span class="s2">&quot;KEYCODE_DPAD_CENTER&quot;</span> 
24 --&gt;  <span class="s2">&quot;KEYCODE_VOLUME_UP&quot;</span> 
25 --&gt;  <span class="s2">&quot;KEYCODE_VOLUME_DOWN&quot;</span> 
26 --&gt;  <span class="s2">&quot;KEYCODE_POWER&quot;</span> 
27 --&gt;  <span class="s2">&quot;KEYCODE_CAMERA&quot;</span> 
28 --&gt;  <span class="s2">&quot;KEYCODE_CLEAR&quot;</span> 
29 --&gt;  <span class="s2">&quot;KEYCODE_A&quot;</span> 
30 --&gt;  <span class="s2">&quot;KEYCODE_B&quot;</span> 
31 --&gt;  <span class="s2">&quot;KEYCODE_C&quot;</span> 
32 --&gt;  <span class="s2">&quot;KEYCODE_D&quot;</span> 
33 --&gt;  <span class="s2">&quot;KEYCODE_E&quot;</span> 
34 --&gt;  <span class="s2">&quot;KEYCODE_F&quot;</span> 
35 --&gt;  <span class="s2">&quot;KEYCODE_G&quot;</span> 
36 --&gt;  <span class="s2">&quot;KEYCODE_H&quot;</span> 
37 --&gt;  <span class="s2">&quot;KEYCODE_I&quot;</span> 
38 --&gt;  <span class="s2">&quot;KEYCODE_J&quot;</span> 
39 --&gt;  <span class="s2">&quot;KEYCODE_K&quot;</span> 
40 --&gt;  <span class="s2">&quot;KEYCODE_L&quot;</span> 
41 --&gt;  <span class="s2">&quot;KEYCODE_M&quot;</span> 
42 --&gt;  <span class="s2">&quot;KEYCODE_N&quot;</span> 
43 --&gt;  <span class="s2">&quot;KEYCODE_O&quot;</span> 
44 --&gt;  <span class="s2">&quot;KEYCODE_P&quot;</span> 
45 --&gt;  <span class="s2">&quot;KEYCODE_Q&quot;</span> 
46 --&gt;  <span class="s2">&quot;KEYCODE_R&quot;</span> 
47 --&gt;  <span class="s2">&quot;KEYCODE_S&quot;</span> 
48 --&gt;  <span class="s2">&quot;KEYCODE_T&quot;</span> 
49 --&gt;  <span class="s2">&quot;KEYCODE_U&quot;</span> 
50 --&gt;  <span class="s2">&quot;KEYCODE_V&quot;</span> 
51 --&gt;  <span class="s2">&quot;KEYCODE_W&quot;</span> 
52 --&gt;  <span class="s2">&quot;KEYCODE_X&quot;</span> 
53 --&gt;  <span class="s2">&quot;KEYCODE_Y&quot;</span> 
54 --&gt;  <span class="s2">&quot;KEYCODE_Z&quot;</span> 
55 --&gt;  <span class="s2">&quot;KEYCODE_COMMA&quot;</span> 
56 --&gt;  <span class="s2">&quot;KEYCODE_PERIOD&quot;</span> 
57 --&gt;  <span class="s2">&quot;KEYCODE_ALT_LEFT&quot;</span> 
58 --&gt;  <span class="s2">&quot;KEYCODE_ALT_RIGHT&quot;</span> 
59 --&gt;  <span class="s2">&quot;KEYCODE_SHIFT_LEFT&quot;</span> 
60 --&gt;  <span class="s2">&quot;KEYCODE_SHIFT_RIGHT&quot;</span> 
61 --&gt;  <span class="s2">&quot;KEYCODE_TAB&quot;</span> 
62 --&gt;  <span class="s2">&quot;KEYCODE_SPACE&quot;</span> 
63 --&gt;  <span class="s2">&quot;KEYCODE_SYM&quot;</span> 
64 --&gt;  <span class="s2">&quot;KEYCODE_EXPLORER&quot;</span> 
65 --&gt;  <span class="s2">&quot;KEYCODE_ENVELOPE&quot;</span> 
66 --&gt;  <span class="s2">&quot;KEYCODE_ENTER&quot;</span> 
67 --&gt;  <span class="s2">&quot;KEYCODE_DEL&quot;</span> 
68 --&gt;  <span class="s2">&quot;KEYCODE_GRAVE&quot;</span> 
69 --&gt;  <span class="s2">&quot;KEYCODE_MINUS&quot;</span> 
70 --&gt;  <span class="s2">&quot;KEYCODE_EQUALS&quot;</span> 
71 --&gt;  <span class="s2">&quot;KEYCODE_LEFT_BRACKET&quot;</span> 
72 --&gt;  <span class="s2">&quot;KEYCODE_RIGHT_BRACKET&quot;</span> 
73 --&gt;  <span class="s2">&quot;KEYCODE_BACKSLASH&quot;</span> 
74 --&gt;  <span class="s2">&quot;KEYCODE_SEMICOLON&quot;</span> 
75 --&gt;  <span class="s2">&quot;KEYCODE_APOSTROPHE&quot;</span> 
76 --&gt;  <span class="s2">&quot;KEYCODE_SLASH&quot;</span> 
77 --&gt;  <span class="s2">&quot;KEYCODE_AT&quot;</span> 
78 --&gt;  <span class="s2">&quot;KEYCODE_NUM&quot;</span> 
79 --&gt;  <span class="s2">&quot;KEYCODE_HEADSETHOOK&quot;</span> 
80 --&gt;  <span class="s2">&quot;KEYCODE_FOCUS&quot;</span> 
81 --&gt;  <span class="s2">&quot;KEYCODE_PLUS&quot;</span> 
82 --&gt;  <span class="s2">&quot;KEYCODE_MENU&quot;</span> 
83 --&gt;  <span class="s2">&quot;KEYCODE_NOTIFICATION&quot;</span> 
84 --&gt;  <span class="s2">&quot;KEYCODE_SEARCH&quot;</span> 
85 --&gt;  <span class="s2">&quot;TAG_LAST_KEYCODE&quot;</span>
</pre></div>


<ul>
<li><code>adb shell getevent</code>,<code>adb shell getevent /dev/input/eventx</code>,<code>adb shell sendevent /dev/input/eventx</code></li>
<li><code>adb shell input touchscreen &lt;x1&gt; &lt;y1&gt; &lt;x2&gt; &lt;y2&gt;</code>,<code>adb shell input touchscreen swipe 18 665 18 350</code>模拟滑动输入</li>
<li><code>adb connect &lt;device-ip-number&gt;</code>连接指定ip</li>
<li><code>adb shell dumpsys activity top</code>,<code>adb shell dumpsys activity</code>,(am状态Activity Manager State),<code>adb shell dumpsys package</code>package information,<code>adb shell dumpsys procstats</code>memory info,<code>adb shell dumpsys gfxinfo</code>graphics information</li>
</ul>
<h2 id="adb-shell-am-activitymanager">adb shell am (ActivityManager)</h2>
<div class="hlcode"><pre><span class="c"># am help</span>
usage: am <span class="o">[</span>subcommand<span class="o">]</span> <span class="o">[</span>options<span class="o">]</span>
usage: am start <span class="o">[</span>-D<span class="o">]</span> <span class="o">[</span>-W<span class="o">]</span> <span class="o">[</span>-P &lt;FILE&gt;<span class="o">]</span> <span class="o">[</span>--start-profiler &lt;FILE&gt;<span class="o">]</span> <span class="o">[</span>-S<span class="o">]</span> &lt;INTENT&gt;
am startservice &lt;INTENT&gt;
am force-stop &lt;PACKAGE&gt;
am broadcast &lt;INTENT&gt;
am instrument <span class="o">[</span>-r<span class="o">]</span> <span class="o">[</span>-e &lt;NAME&gt; &lt;VALUE&gt;<span class="o">]</span> <span class="o">[</span>-p &lt;FILE&gt;<span class="o">]</span> <span class="o">[</span>-w<span class="o">]</span>
<span class="o">[</span>--no-window-animation<span class="o">]</span> &lt;COMPONENT&gt;
am profile <span class="o">[</span>looper<span class="o">]</span> start &lt;PROCESS&gt; &lt;FILE&gt;
am profile <span class="o">[</span>looper<span class="o">]</span> stop <span class="o">[</span>&lt;PROCESS&gt;<span class="o">]</span>
am dumpheap <span class="o">[</span>flags<span class="o">]</span> &lt;PROCESS&gt; &lt;FILE&gt;
am monitor <span class="o">[</span>--gdb &lt;port&gt;<span class="o">]</span>
am screen-compat <span class="o">[</span>on|off<span class="o">]</span> &lt;PACKAGE&gt;
am display-size <span class="o">[</span>reset|MxN<span class="o">]</span>

am start: start an Activity.  Options are:
-D: <span class="nb">enable </span>debugging
-W: <span class="nb">wait </span><span class="k">for </span>launch to <span class="nb">complete</span>
--start-profiler &lt;FILE&gt;: start profiler and send results to &lt;FILE&gt;
-P &lt;FILE&gt;: like above, but profiling stops when app goes idle
-S: force stop the target app before starting the activity

am startservice: start a Service.

am force-stop: force stop everything associated with &lt;PACKAGE&gt;.

am broadcast: send a broadcast Intent.

am instrument: start an Instrumentation.  Typically this target &lt;COMPONENT&gt;
is the form &lt;TEST_PACKAGE&gt;/&lt;RUNNER_CLASS&gt;.  Options are:
-r: print raw results <span class="o">(</span>otherwise decode REPORT_KEY_STREAMRESULT<span class="o">)</span>.  Use with
<span class="o">[</span>-e perf <span class="nb">true</span><span class="o">]</span> to generate raw output <span class="k">for </span>performance measurements.
-e &lt;NAME&gt; &lt;VALUE&gt;: <span class="nb">set </span>argument &lt;NAME&gt; to &lt;VALUE&gt;.  For <span class="nb">test </span>runners a
common form is <span class="o">[</span>-e &lt;testrunner_flag&gt; &lt;value&gt;<span class="o">[</span>,&lt;value&gt;...<span class="o">]]</span>.
-p &lt;FILE&gt;: write profiling data to &lt;FILE&gt;
-w: <span class="nb">wait </span><span class="k">for </span>instrumentation to finish before returning.  Required <span class="k">for</span>
<span class="nb">test </span>runners.
--no-window-animation: turn off window animations will running.

am profile: start and stop profiler on a process.

am dumpheap: dump the heap of a process.  Options are:
-n: dump native heap instead of managed heap

am monitor: start monitoring <span class="k">for </span>crashes or ANRs.
--gdb: start gdbserv on the given port at crash/ANR

am screen-compat: control screen compatibility mode of &lt;PACKAGE&gt;.

am display-size: override display size.

&lt;INTENT&gt; specifications include these flags and arguments:
<span class="o">[</span>-a &lt;ACTION&gt;<span class="o">]</span> <span class="o">[</span>-d &lt;DATA_URI&gt;<span class="o">]</span> <span class="o">[</span>-t &lt;MIME_TYPE&gt;<span class="o">]</span>
<span class="o">[</span>-c &lt;CATEGORY&gt; <span class="o">[</span>-c &lt;CATEGORY&gt;<span class="o">]</span> ...<span class="o">]</span>
<span class="o">[</span>-e|--es &lt;EXTRA_KEY&gt; &lt;EXTRA_STRING_VALUE&gt; ...<span class="o">]</span>
<span class="o">[</span>--esn &lt;EXTRA_KEY&gt; ...<span class="o">]</span>
<span class="o">[</span>--ez &lt;EXTRA_KEY&gt; &lt;EXTRA_BOOLEAN_VALUE&gt; ...<span class="o">]</span>
<span class="o">[</span>--ei &lt;EXTRA_KEY&gt; &lt;EXTRA_INT_VALUE&gt; ...<span class="o">]</span>
<span class="o">[</span>--el &lt;EXTRA_KEY&gt; &lt;EXTRA_LONG_VALUE&gt; ...<span class="o">]</span>
<span class="o">[</span>--eu &lt;EXTRA_KEY&gt; &lt;EXTRA_URI_VALUE&gt; ...<span class="o">]</span>
<span class="o">[</span>--eia &lt;EXTRA_KEY&gt; &lt;EXTRA_INT_VALUE&gt;<span class="o">[</span>,&lt;EXTRA_INT_VALUE...<span class="o">]]</span>
<span class="o">[</span>--ela &lt;EXTRA_KEY&gt; &lt;EXTRA_LONG_VALUE&gt;<span class="o">[</span>,&lt;EXTRA_LONG_VALUE...<span class="o">]]</span>
<span class="o">[</span>-n &lt;COMPONENT&gt;<span class="o">]</span> <span class="o">[</span>-f &lt;FLAGS&gt;<span class="o">]</span>
<span class="o">[</span>--grant-read-uri-permission<span class="o">]</span> <span class="o">[</span>--grant-write-uri-permission<span class="o">]</span>
<span class="o">[</span>--debug-log-resolution<span class="o">]</span> <span class="o">[</span>--exclude-stopped-packages<span class="o">]</span>
<span class="o">[</span>--include-stopped-packages<span class="o">]</span>
<span class="o">[</span>--activity-brought-to-front<span class="o">]</span> <span class="o">[</span>--activity-clear-top<span class="o">]</span>
<span class="o">[</span>--activity-clear-when-task-reset<span class="o">]</span> <span class="o">[</span>--activity-exclude-from-recents<span class="o">]</span>
<span class="o">[</span>--activity-launched-from-history<span class="o">]</span> <span class="o">[</span>--activity-multiple-task<span class="o">]</span>
<span class="o">[</span>--activity-no-animation<span class="o">]</span> <span class="o">[</span>--activity-no-history<span class="o">]</span>
<span class="o">[</span>--activity-no-user-action<span class="o">]</span> <span class="o">[</span>--activity-previous-is-top<span class="o">]</span>
<span class="o">[</span>--activity-reorder-to-front<span class="o">]</span> <span class="o">[</span>--activity-reset-task-if-needed<span class="o">]</span>
<span class="o">[</span>--activity-single-top<span class="o">]</span> <span class="o">[</span>--activity-clear-task<span class="o">]</span>
<span class="o">[</span>--activity-task-on-home<span class="o">]</span>
<span class="o">[</span>--receiver-registered-only<span class="o">]</span> <span class="o">[</span>--receiver-replace-pending<span class="o">]</span>
<span class="o">[</span>&lt;URI&gt; | &lt;PACKAGE&gt; | &lt;COMPONENT&gt;<span class="o">]</span>

Error: Unknown <span class="nb">command</span>: <span class="nb">help</span>
</pre></div>


<h2 id="adb-shell-pm-packagemanager">adb shell pm (PackageManager)</h2>
<div class="hlcode"><pre><span class="c"># pm help</span>
Error: unknown <span class="nb">command</span> <span class="s1">&#39;help&#39;</span>
usage: pm list packages <span class="o">[</span>-f<span class="o">]</span> <span class="o">[</span>-d<span class="o">]</span> <span class="o">[</span>-e<span class="o">]</span> <span class="o">[</span>-s<span class="o">]</span> <span class="o">[</span>-e<span class="o">]</span> <span class="o">[</span>-u<span class="o">]</span> <span class="o">[</span>FILTER<span class="o">]</span>
pm list permission-groups
pm list permissions <span class="o">[</span>-g<span class="o">]</span> <span class="o">[</span>-f<span class="o">]</span> <span class="o">[</span>-d<span class="o">]</span> <span class="o">[</span>-u<span class="o">]</span> <span class="o">[</span>GROUP<span class="o">]</span>
pm list instrumentation <span class="o">[</span>-f<span class="o">]</span> <span class="o">[</span>TARGET-PACKAGE<span class="o">]</span>
pm list features
pm list libraries
pm path PACKAGE
pm install <span class="o">[</span>-l<span class="o">]</span> <span class="o">[</span>-r<span class="o">]</span> <span class="o">[</span>-t<span class="o">]</span> <span class="o">[</span>-i INSTALLER_PACKAGE_NAME<span class="o">]</span> <span class="o">[</span>-s<span class="o">]</span> <span class="o">[</span>-f<span class="o">]</span> PATH
pm uninstall <span class="o">[</span>-k<span class="o">]</span> PACKAGE
pm clear PACKAGE
pm <span class="nb">enable </span>PACKAGE_OR_COMPONENT
pm disable PACKAGE_OR_COMPONENT
pm disable-user PACKAGE_OR_COMPONENT
pm <span class="nb">set</span>-install-location <span class="o">[</span>0/auto<span class="o">]</span> <span class="o">[</span>1/internal<span class="o">]</span> <span class="o">[</span>2/external<span class="o">]</span>
pm get-install-location
pm createUser USER_NAME
pm removeUser USER_ID

pm list packages: prints all packages, optionally only
those whose package name contains the text in FILTER.  Options:
-f: see their associated file.
-d: filter to only show disbled packages.
-e: filter to only show enabled packages.
-s: filter to only show system packages.
-3: filter to only show third party packages.
-u: also include uninstalled packages.

pm list permission-groups: prints all known permission groups.

pm list permissions: prints all known permissions, optionally only
those in GROUP.  Options:
-g: organize by group.
-f: print all information.
-s: short summary.
-d: only list dangerous permissions.
-u: list only the permissions users will see.

pm list instrumentation: use to list all <span class="nb">test </span>packages; optionally
supply &lt;TARGET-PACKAGE&gt; to list the <span class="nb">test </span>packages <span class="k">for </span>a particular
application.  Options:
-f: list the .apk file <span class="k">for </span>the <span class="nb">test </span>package.

pm list features: prints all features of the system.

pm path: print the path to the .apk of the given PACKAGE.

pm install: installs a package to the system.  Options:
-l: install the package with FORWARD_LOCK.
-r: reinstall an exisiting app, keeping its data.
-t: allow <span class="nb">test</span> .apks to be installed.
-i: specify the installer package name.
-s: install package on sdcard.
-f: install package on internal flash.

pm uninstall: removes a package from the system. Options:
-k: keep the data and cache directories around after package removal.

pm clear: deletes all data associated with a package.

pm <span class="nb">enable</span>, disable, disable-user: these commands change the enabled state
of a given package or component <span class="o">(</span>written as <span class="s2">&quot;package/class&quot;</span><span class="o">)</span>.

pm get-install-location: returns the current install location.
0 <span class="o">[</span>auto<span class="o">]</span>: Let system decide the best location
1 <span class="o">[</span>internal<span class="o">]</span>: Install on internal device storage
2 <span class="o">[</span>external<span class="o">]</span>: Install on external media

pm <span class="nb">set</span>-install-location: changes the default install location.
NOTE: this is only intended <span class="k">for </span>debugging; using this can cause
applications to <span class="nb">break </span>and other undersireable behavior.
0 <span class="o">[</span>auto<span class="o">]</span>: Let system decide the best location
1 <span class="o">[</span>internal<span class="o">]</span>: Install on internal device storage
2 <span class="o">[</span>external<span class="o">]</span>: Install on external media
</pre></div>


<div class="hlcode"><pre><span class="nb">pm</span> <span class="nb">list</span> <span class="nx">packages</span> <span class="na">-e</span> <span class="c1">//only list enabled packages</span>
<span class="nb">pm</span> <span class="nb">list</span> <span class="nx">packages</span> <span class="na">-d</span> <span class="c1">//list disabled packages</span>
<span class="nb">pm</span> <span class="nx">disable</span> <span class="o">&lt;</span><span class="nx">packagename</span><span class="o">&gt;</span> <span class="c1">//disable package</span>
<span class="nb">pm</span> <span class="nx">enable</span> <span class="nx">PACKAGE_OR_COMPONENT</span><span class="p">;</span><span class="nb">pm</span> <span class="nx">enable</span> <span class="o">&lt;</span><span class="nx">packagename</span><span class="o">&gt;</span> <span class="c1">//enable package</span>
</pre></div>
    </div>

        </div>
        <div id="footer">
              <p>
                Copyright © 2012-2016 Solarex.
                Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
              </p>
                <p>Last Update 2016-05-18 21:33:28</p>
        </div>
    </body>
</html>