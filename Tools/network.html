<!DOCTYPE HTML>
<html>
    <head>
        <link rel="Stylesheet" type="text/css" href="../static/css/typo.css">
        <link rel="Stylesheet" type="text/css" href="../static/css/reset_typo.css">
        <link rel="Stylesheet" type="text/css" href="../static/css/tango.css">
        <link rel="Stylesheet" type="text/css" href="../static/css/style.css">
        <title>network - Wiki·Solarex</title>
        <meta name="keywords" content="android,linux,python,mac"/>
        <meta name="description" content="Solarex's personal wiki,powered by simiki.Focus on Android, Python, Linux, Mac and so on."/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        
<script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.js"></script>
<script language="javascript" type="text/javascript">
    var oddClick = true;
    $(document).ready(function() {
      $('#toggle-button').click(function() {
        $('#container').animate({
          width: oddClick? "100%":"60%",
        });
        $(this).text(oddClick? "窄版":"宽版");
        oddClick = !oddClick;
      });
    });
</script>

    </head>

    <body>
        <a href="https://github.com/Solarex/wiki"><img style="position: fixed; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
        <div id="container">
            
    <div id="header">
        <div id="post-nav">
            <div id="toggle-button">宽版</div>
            
            <a href="https://solarex.github.io/wiki/">Home</a> » <a href="https://solarex.github.io/wiki/#Tools">Tools</a> » network
            
        </div>
    </div>
    <div class="clearfix"></div>
    <h1><center>network</center></h1>
    <hr>
    <div id="content">
        <ul>
<li>
<p>netstat 命令用于显示各种网络相关信息，如网络连接，路由表，接口状态 (Interface Statistics)，masquerade 连接，多播成员 (Multicast Memberships) 等等。</p>
</li>
<li>
<p>列出所有端口 (包括监听和未监听的):<code>netstat -a</code>,列出所有 tcp 端口:<code>netstat -at</code>,列出所有有监听的服务状态:<code>netstat -l</code>,使用netstat工具查询端口:<code>netstat -antp | grep 6379</code></p>
</li>
<li>
<p>查询7902端口现在运行什么程序:</p>
</li>
</ul>
<div class="hlcode"><pre><span class="c">#分为两步</span>
<span class="c">#第一步，查询使用该端口的进程的PID；</span>
<span class="nv">$lsof</span> -i:7902
COMMAND   PID   USER   FD   TYPE    DEVICE SIZE NODE NAME
WSL     30294 tuapp    4u  IPv4 447684086       TCP 10.6.50.37:tnos-dp <span class="o">(</span>LISTEN<span class="o">)</span>

<span class="c">#查到30294</span>
<span class="c">#使用ps工具查询进程详情：</span>
<span class="nv">$ps</span> -fe | grep 30294
tdev5  30294 26160  0 Sep10 ?        01:10:50 tdesl -k 43476
root     22781 22698  0 00:54 pts/20   00:00:00 grep 11554
</pre></div>


<ul>
<li>
<p>查看路由状态<code>route -n</code>，探测前往地址IP的路由路径:<code>traceroute IP</code>，DNS查询，寻找域名domain对应的IP:<code>host domain</code>，反向DNS查询:<code>host IP</code></p>
</li>
<li>
<p><code>sftp user@host</code>，登陆后，可以使用下面的命令进一步操作：</p>
</li>
<li>
<p><code>get filename</code> # 下载文件</p>
</li>
<li>
<p><code>put filename</code> # 上传文件</p>
</li>
<li>
<p><code>ls</code> # 列出host上当前路径的所有文件</p>
</li>
<li>
<p><code>cd</code> # 在host上更改当前路径</p>
</li>
<li>
<p><code>lls</code> # 列出本地主机上当前路径的所有文件</p>
</li>
<li>
<p><code>lcd</code> # 在本地主机更改当前路径</p>
</li>
<li>
<p>将本地localpath指向的文件上传到远程主机的path路径:<code>scp localpath ID@host:path</code>，以ssh协议，遍历下载path路径下的整个文件系统，到本地的localpath:<code>scp -r ID@site:path localpath</code></p>
</li>
</ul>
    </div>

        </div>
        <div id="footer">
              <p>
                Copyright © 2012-2017 Solarex.
                Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
              </p>
                <p>Last Update 2017-03-26 09:17:12</p>
        </div>
    </body>
</html>