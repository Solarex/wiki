<!DOCTYPE HTML>
<html>
    <head>
        <link rel="Stylesheet" type="text/css" href="../static/css/typo.css">
        <link rel="Stylesheet" type="text/css" href="../static/css/reset_typo.css">
        <link rel="Stylesheet" type="text/css" href="../static/css/tango.css">
        <link rel="Stylesheet" type="text/css" href="../static/css/style.css">
        <title>ch27 - Wiki·Solarex</title>
        <meta name="keywords" content="android,linux,python,mac"/>
        <meta name="description" content="Solarex's personal wiki,powered by simiki.Focus on Android, Python, Linux, Mac and so on."/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        
<script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.js"></script>
<script language="javascript" type="text/javascript">
    var oddClick = true;
    $(document).ready(function() {
      $('#toggle-button').click(function() {
        $('#container').animate({
          width: oddClick? "100%":"60%",
        });
        $(this).text(oddClick? "窄版":"宽版");
        oddClick = !oddClick;
      });
    });
</script>

    </head>

    <body>
        <a href="https://github.com/Solarex/wiki"><img style="position: fixed; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
        <div id="container">
            
    <div id="header">
        <div id="post-nav">
            <div id="toggle-button">宽版</div>
            
            <a href="https://solarex.github.io/wiki/">Home</a> » <a href="https://solarex.github.io/wiki/#ProAndroid4">ProAndroid4</a> » ch27
            
        </div>
    </div>
    <div class="clearfix"></div>
    <h1><center>ch27</center></h1>
    <hr>
    <div id="content">
        <h1 id="ch27-touch-screens">Ch.27 Touch Screens</h1>
<h2 id="understanding-motionevents">Understanding MotionEvents</h2>
<h3 id="the-motionevent-object">The MotionEvent Object</h3>
<p><strong>Receiving MotionEvent Objects</strong></p>
<ul>
<li>When we want touch events to do something new with a particular View object, we can extend the class, override the <code>onTouchEvent()</code> method, and put our logic there. We can also implement the <code>View.OnTouchListener</code> interface and set up a callback handler on the <code>View</code> object. By setting up a callback handler with <code>onTouch()</code>, <code>MotionEvents</code> will be delivered there first before they go to the View’s <code>onTouchEvent()</code> method. Only if the <code>onTouch()</code> method returned false would our View’s <code>onTouchEvent()</code> method get called.</li>
</ul>
<p><strong>Understanding MotionEvent Contents</strong></p>
<h3 id="recycling-motionevents">Recycling MotionEvents</h3>
<ul>
<li><code>MotionEvent.obtaion</code>,<code>MotionEvent.recyle</code></li>
</ul>
<h3 id="using-velocitytracker">Using VelocityTracker</h3>
<ul>
<li>To use <code>VelocityTracker</code>, you first get an instance of a <code>VelocityTracker</code> by calling the static method <code>VelocityTracker.obtain()</code>. You can then add <code>MotionEvent</code> objects to it with the <code>addMovement(MotionEvent ev)</code> method. You would call this method in your handler that receives <code>MotionEvent</code> objects, from a handler method such as <code>onTouch()</code>, or from a view’s <code>onTouchEvent()</code>. The <code>VelocityTracker</code> uses the <code>MotionEvent</code> objects to figure out what is going on with the user’s touch sequence. Once <code>VelocityTracker</code> has at least two <code>MotionEvent</code> objects in it, we can use the other methods to find out what’s happening.</li>
<li>When you are finished with the <code>VelocityTracker</code> object you got with the <code>obtain()</code> method, call the <code>VelocityTracker</code> object’s <code>recycle()</code> method.</li>
</ul>
<h2 id="multitouch">Multitouch</h2>
<h3 id="the-basics-of-multitouch">The Basics of Multitouch</h3>
<ul>
<li>At a basic level, the methods of <code>MotionEvent</code> are the same; that is, we call <code>getAction()</code>, <code>getDownTime()</code>, <code>getX()</code>, and so on. However, when more than one finger is touching the screen, the <code>MotionEvent</code> object must include information from all fingers, with some caveats. The action value from <code>getAction()</code> is for one finger, not all. The down time value is for the very first finger down and measures the time as long as at least one finger is down. The location values <code>getX()</code> and <code>getY()</code>, as well as <code>getPressure()</code> and <code>getSize()</code>, can take an argument for the finger; therefore, you need to use a pointer index value to request the information for the finger you’re interested in. There are method calls that we used previously that did not take any argument to specify a finger (for example, <code>getX()</code>, <code>getY()</code>), so which finger would the values be for if we used those methods? You can figure it out, but it takes some work. Therefore, if you don’t take into account multiple fingers all of the time, you might end up with some strange results. </li>
</ul>
<p><strong>Understanding Multitouch Contents</strong></p>
<p><strong>Touches with Maps</strong></p>
    </div>

        </div>
        <div id="footer">
              <p>
                Copyright © 2012-2017 Solarex.
                Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
              </p>
                <p>Last Update 2017-04-10 16:38:35</p>
        </div>
    </body>
</html>